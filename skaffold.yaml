# Skaffold is used for locally building, tagging and running containers during development
# 
# File generated by `skaffold init`
# Build containers and run cluster: `skaffold run`
# Build containers and run cluster on source code change: `skaffold dev`
# NOTE: building in haskell takes a LONG time, so without build caching, `skaffold dev` isn't viable

apiVersion: skaffold/v2beta28
kind: Config
metadata:
  name: learning-k-s
build:
  artifacts:
  - image: ghcr.io/pmihaly/learning-k8s
    docker:
      dockerfile: Dockerfile
deploy:
  kubectl:
    manifests:
    - k8s
